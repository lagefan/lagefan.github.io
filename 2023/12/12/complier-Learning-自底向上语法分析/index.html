<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>complier-Learning-自底向上语法分析 | Hexo</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><meta name="generator" content="Hexo 7.0.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">complier-Learning-自底向上语法分析</h1><a id="logo" href="/.">Hexo</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">complier-Learning-自底向上语法分析</h1><div class="post-meta">2023-12-12<span> | </span><span class="category"><a href="/categories/complier/">complier</a></span></div><div class="post-content"><h1 id="LR分析"><a href="#LR分析" class="headerlink" title="LR分析"></a>LR分析<br></h1><p>自底向上分析方法是一种移进-规约过程：当分析的栈顶符号串形成句柄（可规约串）时采取规约动作。LR分析法就是一种一种能根据当前分析栈中的符号串和向右顺序查看输入串的k个符号即可唯一确定分析器的动作是移进还是规约和用哪个产生式规约。值得注意的是：LR分析是规范规约过程（最左规约），即规范推导过程（最右推导）的逆过程。通过一个案例来考察这一点：<br><br><br>产生式：<br><br>$S\rightarrow aAcBe[1]$<br><br>$A\rightarrow b[2]$<br><br>$A\rightarrow Ab[3]$<br><br>$B\rightarrow d[4]$<br><br>对输入串的进行最右推导：$S\Rightarrow aAcBe[1]\Rightarrow aAcd[4]e[1]\Rightarrow aAb[3]cd[4]e[1]\Rightarrow ab[2]b[3]cd[4]e[1]$<br><br>它的逆过程-最左规约为：$ab[2]b[3]cd[4]e[1]\Leftarrow aAb[3]cd[4]e[1]\Leftarrow aAcd[4]e[1]\Leftarrow aAcBe[1]\Leftarrow S$<br><br><br>本章介绍当k&lt;&#x3D;1时LR分析器的基本构造原理和方法。关于k的含义：LR（k）当k&#x3D;0时表示分析器不需要向右查看输入符号。本篇主要介绍LR(0)、SLR(1)、LR(1)和LALR(1)四种分析器的构造方法。<br><br></p>
<h2 id="LR分析概述"><a href="#LR分析概述" class="headerlink" title="LR分析概述"></a>LR分析概述<br></h2><p>LR分析器包括三个组成部分：总控程序、分析表和分析栈。<br>总控程序对所有的LR分析器而言都是相同的。<br>文法和分析表都会影响分析表的构造。分析表可分为ACTION表和GOTO表两部分。都可用二维数组表示。<br>分析栈包括文法符号栈和相应的状态栈。<br><br></p>
<h2 id="LR-0-分析"><a href="#LR-0-分析" class="headerlink" title="LR(0)分析"></a>LR(0)分析<br></h2><p>LR(0)分析表构造的思想和方法是构造其他LR分析表的基础。</p>
<h3 id="可归前缀和子前缀"><a href="#可归前缀和子前缀" class="headerlink" title="可归前缀和子前缀"></a>可归前缀和子前缀<br></h3><p>由一个例子给出LR分析的基本原理，并给出可归前缀和活前缀的形式化定义。<br><br><br>由<em>LR分析</em>板块的案例可知，每次规约前句型的前部依次为：<br><br>ab[2]、aAb[3]、aAcd[4]、aAcBe[1]<br><br>这也是每次采取规约动作前符号栈中的内容，这种前部也称为<strong>可归前缀</strong>。<br><br>再来分析上述每个前部的前缀：<br><br>$\theta,a,ab$<br><br>$\theta,a,aA,aAb$<br><br>$\theta,a,aA,aAc,aAcd$<br><br>$\theta,a,aA,aAc,aAcB,aAcBe$<br><br>将规范句型中形成可归前缀之前包括可归前缀在内的所有前缀称为活前缀。只要在规范规约过程中的任何时刻，只要分析过的部分（即在符号栈中的符号串）均为规范句型的活前缀，则表明输入串已被分析的部分是该文法某规范句型的一个正确部分。<br><br><br><strong>拓广文法：</strong>在原文法G中增加产生式$S’\rightarrow S$所得的文法即为拓广文法。其中S为原文法的开始符号。<br><br><br><strong>活前缀的形式化定义：</strong>略。</p>
<h3 id="识别活前缀的有限自动机"><a href="#识别活前缀的有限自动机" class="headerlink" title="识别活前缀的有限自动机"></a>识别活前缀的有限自动机<br></h3><h3 id="活前缀及可归前缀的一般计算方法"><a href="#活前缀及可归前缀的一般计算方法" class="headerlink" title="活前缀及可归前缀的一般计算方法"></a>活前缀及可归前缀的一般计算方法<br></h3><h3 id="LR-0-项目集规范族的构造-更实用的构造可识别可归前缀的有限自动机的方法"><a href="#LR-0-项目集规范族的构造-更实用的构造可识别可归前缀的有限自动机的方法" class="headerlink" title="LR(0)项目集规范族的构造-更实用的构造可识别可归前缀的有限自动机的方法"></a>LR(0)项目集规范族的构造-更实用的构造可识别可归前缀的有限自动机的方法<br></h3><ul>
<li><strong>LR(0)项目</strong><br><br>例如，产生式$S\rightarrow aAcBe$对应有6个项目。<br><br>$S\rightarrow ·aAcBe$<br><br>$S\rightarrow a·AcBe$<br><br>$S\rightarrow aA·cBe$<br><br>$S\rightarrow aAc·Be$<br><br>$S\rightarrow aAcB·e$<br><br>$S\rightarrow aAcBe·$<br><br>圆点的左部表示分析过程的某时刻欲用该产生式规约时已识别过的句柄部分，圆点右部表示期待的后缀部分。<br></li>
<li><strong>构造识别活前缀的NFA</strong><br><br>在介绍NFA的构造前，首先明确几个概念：<br><br>由于S’仅在第一个产生式的左部出现，因此规定项目1为<strong>初态</strong>。<br><br>其余每个状态都为<strong>活前缀的识别态</strong>。<br><br><br><strong>构造流程：</strong><br><br>1.将文法的所有产生式的项目列出，并使每个项目都作为NFA的一个状态。<br><br>2.确定状态之间的转换关系：<br><br>若i项目为：$X\rightarrow X_1X_2···X_{i-1}·X_i···X_n$<br><br>若j项目为: $X\rightarrow X_1X_2···X_{i-1}X_i·X_{i+1}···X_n$<br><br>若出现j项目落后于i项目一个符号的情况，在i到j状态连一条$X_i$的箭弧<br><br>如果$X_i$为非终结符，则i状态会连接向以$X_i$为左部的新的状态。且箭弧上标记为$\epsilon$。<br><br><br>通过一个案例学习：<br><br><img src="/links/complier-Learning-%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90/LR(0)%E9%A1%B9%E7%9B%AE.jpg" alt="LR(0)项目" title="LR(0)项目"><br><br><img src="/links/complier-Learning-%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90/LR(0)NFA.jpg" alt="LR(0)NFA" title="LR(0)NFA"><br></li>
<li><strong>构造LR(0)项目集规范族</strong></li>
<li><strong>构造LR(0)分析表</strong></li>
<li><strong>LR(0)分析器的工作流程</strong></li>
</ul>
<h2 id="SLR-1-分析"><a href="#SLR-1-分析" class="headerlink" title="SLR(1)分析"></a>SLR(1)分析<br></h2><p>大多数实用的程序设计语言的文法不能满足LR(0)文法的条件，故引出SLR(1)文法，其思想是基于容许LR(0)规范族中有冲突的项目集，用向前查看一个符号的办法来解决冲突。<br><br><br><strong>通过考察一个案例来体会SLR(1)解决冲突的思想</strong><br><br>对于如下的文法案例:<br><br>$(0)S’\rightarrow S$<br><br>$(1)S\rightarrow rD$<br><br>$(2)D\rightarrow D,i$<br><br>$(3)D\rightarrow i$<br><br>首先构造该文法的LR(0)项目集规范族，如下图所示：<br><br><img src="/links/complier-Learning-%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90/SLR(1)_demo_%E8%A7%84%E8%8C%83%E6%97%8F.jpg" alt="SLR(1)_demo_规范族" title="SLR(1)_demo_规范族"><br><br>然后使用GO函数构造识别活前缀的DFA，如下图所示：<br><br><img src="/links/complier-Learning-%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90/SLR(1)_demo_DFA.jpg" alt="SLR(1)_demo_DFA" title="SLR(1)_demo_DFA"><br><br>其中状态I3中存在“移进-规约冲突”。此时只要保证S的后跟符号集（FOLLOW集）与移进项目的移进符号的集合（{,}）不冲突时，这种移进-规约冲突便可解决。<strong>判定冲突是否能解决的形式化定义如下：</strong><br><br>对于LR(0)规范族中含以下冲突的项目集：<br><br>$I&#x3D;{X\rightarrow\alpha ·b\beta ,A\rightarrow\gamma ·,B\rightarrow\delta ·}$<br><br>只要满足：<br><br>FOLLOW(A)∩FOLLOW(B)&#x3D;$\emptyset$<br><br>FOLLOW(A)∩{b}&#x3D;$\emptyset$<br><br>FOLLOW(B)∩{b}&#x3D;$\emptyset$<br><br>即表明该冲突可以由SLR(1)分析方法解决。<br><br><br>接上文，<strong>冲突的解决方法：</strong><br><br>当在状态I时，如果面临某输入符号为a，则可ACTION按以下规定决策：<br></p>
<ul>
<li>若a&#x3D;b，则移进。</li>
<li>若a∈FOLLOW(A)，则用产生式$A\rightarrow\gamma$进行规约。</li>
<li>若a∈FOLLOW(B)，则用产生式$B\rightarrow\delta$进行规约。</li>
<li>此外，报错。</li>
</ul>
</div><div class="tags"><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/complier/" rel="tag">complier</a></li></ul></div><div class="post-nav"><a class="pre" href="/2023/12/25/complier-Learning-%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%9A%84%E8%AF%AD%E4%B9%89%E8%AE%A1%E7%AE%97/">complier-Learning-语法制导的语义计算</a><a class="next" href="/2023/12/06/GAME-OpenGL-project-1/">GAME_OpenGL_Project_1</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://example.com"/></form></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="About"><img class="nofancybox" src="/img/avatar.png"/></a><p>To be a better man.</p><a class="info-icon" href="https://twitter.com/username" title="Twitter" target="_blank" style="margin-inline:5px"> <i class="fa fa-twitter-square" style="margin-inline:5px"></i></a><a class="info-icon" href="mailto:admin@domain.com" title="Email" target="_blank" style="margin-inline:5px"> <i class="fa fa-envelope-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://github.com/username" title="Github" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a><a class="info-icon" href="/atom.xml" title="RSS" target="_blank" style="margin-inline:5px"> <i class="fa fa-rss-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/GAME/">GAME</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/GAME/OpenGL/">OpenGL</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/complier/">complier</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/GAME/" style="font-size: 15px;">GAME</a> <a href="/tags/OpenGL/" style="font-size: 15px;">OpenGL</a> <a href="/tags/complier/" style="font-size: 15px;">complier</a> <a href="/tags/%E6%96%87%E6%B3%95%E6%A6%82%E5%BF%B5/" style="font-size: 15px;">文法概念</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2023/12/25/complier-Learning-%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%9A%84%E8%AF%AD%E4%B9%89%E8%AE%A1%E7%AE%97/">complier-Learning-语法制导的语义计算</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/12/12/complier-Learning-%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90/">complier-Learning-自底向上语法分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/12/06/GAME-OpenGL-project-1/">GAME_OpenGL_Project_1</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/12/04/GAME-OpenGL-project-2/">GAME_OpenGL_Project_2</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/11/30/complier-Learning-%E6%96%87%E6%B3%95%E5%92%8C%E8%AF%AD%E8%A8%80/">文法和语言</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/11/30/complier-Learning-%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90/">自顶向下语法分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/11/29/GAME-OpenGL-Learn-1/">GAME_OpenGL_Learn_1</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/11/29/hello-world/">Hello World</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2023 <a href="/." rel="nofollow">Hexo.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>